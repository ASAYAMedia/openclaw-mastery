<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide 5: Automation & Cron Jobs ‚Äî OpenClaw Mastery</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .back-link {
            color: #667eea;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
        }
        h1 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 10px;
        }
        .meta {
            color: #666;
            margin-bottom: 30px;
        }
        .content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h2 {
            color: #764ba2;
            margin: 30px 0 15px;
            font-size: 1.5em;
        }
        h3 {
            color: #333;
            margin: 25px 0 10px;
            font-size: 1.2em;
        }
        code {
            background: #f4f4f4;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
        }
        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }
        .tip {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .affiliate-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }
        .affiliate-box a {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            margin-top: 15px;
        }
        .next-guide {
            background: #667eea;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 40px;
        }
        .next-guide a {
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to All Guides</a>
        
        <h1>Guide 5: Automation & Cron Jobs</h1>
        <p class="meta">‚è±Ô∏è 45 minutes | üí∞ Free | üéØ Intermediate</p>
        
        <div class="content">
            <p>Make your AI assistant truly hands-off. Learn to schedule tasks, set up periodic checks (heartbeats), and manage background processes.</p>
            
            <h2>What You'll Automate</h2>
            <ul style="margin: 15px 0; padding-left: 30px;">
                <li>‚úÖ Daily summaries and reports</li>
                <li>‚úÖ Periodic checks (weather, news, mentions)</li>
                <li>‚úÖ Background tasks (e.g., file processing)</li>
            </ul>
            
            <h2>Step 1: Understanding OpenClaw Cron</h2>
            
            <p>OpenClaw's cron tool allows you to schedule jobs. You can define jobs to run at specific times or intervals.</p>
            
            <h3>Creating a Cron Job</h3>
            <p>Use the `cron add` command. Here's an example to send a daily summary via Telegram at 8 AM:</p>
            
            <pre><code class="language-bash">
openclaw cron add \
  --job "{\"name\": \"daily-summary\", \"schedule\": {\"kind\": \"cron\", \"expr\": \"0 8 * * *\", \"tz\": \"America/New_York\"}, \"payload\": {\"kind\": \"systemEvent\", \"text\": \"Generate a daily summary of important events and tasks.\"}, \"sessionTarget\": \"main\"}"</code></pre>
            
            <p><strong>Explanation:</strong></p>
            <ul style="margin: 15px 0; padding-left: 30px;">
                <li><code>name</code>: A friendly name for the job.</li>
                <li><code>schedule</code>: Defines when to run. <code>cron</code> uses standard cron syntax.</li>
                <li><code>payload</code>: What the job does. <code>systemEvent</code> injects text into your session.</li>
                <li><code>sessionTarget</code>: Where the job runs. <code>main</code> for your primary session.</li>
            </ul>
            
            <div class="tip">
                üí° <strong>Payloads:</strong> For background tasks, use `sessionTarget: isolated` with `payload.kind: agentTurn` to run sub-agents.
            </div>

            <h2>Step 2: Heartbeats for Periodic Checks</h2>

            <p>Heartbeats are lightweight, frequent checks. You can configure them via the `HEARTBEAT.md` file or by setting up frequent cron jobs.</p>
            
            <h3>Using `HEARTBEAT.md`</h3>
            <p>If `HEARTBEAT.md` exists in your workspace, OpenClaw will read it periodically and execute tasks described within. This is great for batching checks like email, calendar, and weather.</p>
            
            <pre><code class="language-markdown"># Example HEARTBEAT.md

- Check recent emails for urgent notices.
- Summarize calendar events for the next 24 hours.
- Fetch weather updates for your current location.</code></pre>
            
            <h3>Scheduling Heartbeats</h3>
            <p>You can schedule a cron job to trigger a heartbeat check:</p>
            <pre><code class="language-bash">
openclaw cron add \
  --job "{\"name\": \"heartbeat-check\", \"schedule\": {\"kind\": \"every\", \"everyMs\": 14400000}, \"payload\": {\"kind\": \"systemEvent\", \"text\": \"Read HEARTBEAT.md and perform checks.\"}, \"sessionTarget\": \"main\"}"</code></pre>
            <p>(This example runs every 4 hours: 14,400,000 ms)</p>

            <h2>Step 3: Background Exec Commands</h2>

            <p>For longer-running tasks, use the `exec` tool with the `background` flag.</p>
            
            <pre><code class="language-bash"># Example: Run a long-running script in the background
openclaw exec --command "python your_script.py --process-all-files" --background</code></pre>
            
            <p>You can manage these background processes using the `process` tool.</p>

            <h2>Step 4: Managing Background Processes</h2>

            <h3>List Running Processes</h3>
            <pre><code class="language-bash">openclaw process list</code></pre>
            
            <h3>Poll for Output</h3>
            <pre><code class="language-bash">openclaw process log --sessionId YOUR_SESSION_ID</code></pre>
            
            <h3>Kill a Process</h3>
            <pre><code class="language-bash">openclaw process kill --sessionId YOUR_SESSION_ID</code></pre>

            <h2>What You've Automated</h2>
            <ul style="margin: 15px 0; padding-left: 30px;">
                <li>‚úÖ Scheduled recurring tasks with cron</li>
                <li>‚úÖ Implemented periodic checks via heartbeats</li>
                <li>‚úÖ Managed background execution of scripts</li>
            </ul>
            
            <div class="next-guide">
                <h3>Next: Add 20+ Tools</h3>
                <p>Supercharge your AI with essential CLI tools for media, development, and more.</p>
                <a href="guide-06-tools.html">Continue to Guide 6 ‚Üí</a>
            </div>
        </div>
    </div>
</body>
</html>
